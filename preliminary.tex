\section{準備}


\subsection{表記}
(二進)自然数の集合を $\N$, 整数の集合を $\Z$, 実数の集合を $\R$, 有理数の集合を $\Q$
と表記する. 
一変数関数 $f$ の $i$ 階の導関数を $\D{i}f$ と表記する.
同様に二変数関数 $g$ の第一引数にたいして $i$ 階, 第二引数に対して $j$ 階の導関数を $\D{i,j}g$ と表記する.



\subsection{実数の名}
 精度を与えると, ある実数の近似値を返す関数をその実数の名と呼ぶ.

\begin{definition}[実数の名]
 関数 $\phi : \{0^\N\} \to \Z $ が実数 $x \in [0,1]$ の名であるとは,
 $\phi(0^n) = \lfloor x \cdot 2^n \rfloor$ または
 $\phi(0^n) = \lceil x \cdot 2^n \rceil$ を満たすこと.
\end{definition}

\subsection{計算可能実関数, 多項式時間実関数}
 実数は無限の長さを持つため, 文字列にエンコードすることができない.
 そこで実関数を計算する機械を, 入力となる実数の名を神託としてもつ神託機械として定義する.

 \begin{definition}
  神託機械 $M$ が実関数 $f:A \to \R$ を計算するとは,
  任意の実数 $x \in A$, 任意の $x$ の名 $\phi_x$ にたいして,
  $M^\phi_x$ が $f(x)$ の名であること.
 \end{definition}

 ある実関数が計算可能であるとは, その関数を計算する神託機械が存在することである.
 同様に, ある実関数が多項式時間計算可能であるとは, その関数を計算する多項式時間神託機械が存在することである.

 多項式時間計算可能な関数は, 多項式連続度という概念を導入することで, 
 神託機械を用いない同値な定義を構成できる.

 $\phi_f: \Q \times \{0^\N\} \to \Q$, $m_f:\{0^\N\} \to \{0^\N\}$は
 \begin{align}
  |\phi_f(d, 0^n) - f(d)| &\le 2^{-n} & |x-y| \le 2^{-p_f(m)} &\Rightarrow |f(x) - f(y)| \le 2^{-m}
 \end{align}
 をみたす関数とする.
 計算可能な $\phi_f, m_f$ が存在することと $f$ が計算可能であることは同値である.
 多項式時間計算可能な $\phi_f, m_f$ が存在することと $f$ が多項式時間計算可能であることは同値である.

 \begin{definition}[多項式連続度]
  $f$ の多項式連続度(polynomial modulus of continuity)を持つとは任意の $x_0, x_1 \in [0,1]$, $m \in N$ 
  に対して $|x_0 - x_1| \le 2^{-p(m)}$ ならば $|f(x_0) - f(x_1)| \le 2^{-m}$
  を満たすような多項式 $p$ が存在すること.
 \end{definition}
 

 \begin{lemma}
  実関数 $f:[0,1] \to \R$ の多項式連続度を持ち
  多項式時間関数 $F: ([0,1] \cap \Q) \times \N \to \Q$ で
  任意の $d \in ([0,1] \cap \Q)$, $n \in \N$ にたいして
  \begin{equation}
   |F(d, 0^n) - f(d)| \le 2^{-n}
  \end{equation}
  を満たすものが存在することと,
  $f$ が多項式時間計算可能であることは同値である.
 \end{lemma}

\subsection{完全性}

 \begin{definition}[還元]
  言語 $L$ が実関数 $f$ に還元可能であるとは, 
  任意の文字列 $u$ にたいして, 以下を満たす実数 $x_u$
  多項式時間計算可能な関数 $R,S,T$ が存在すること.
  \begin{itemize}
   \item $S(u, \cdot)$ は実数 $x_u$ の名;
   \item 任意の $f(x_u)$ の名 $\phi$ にたいして
	 \[
	  L(u) = R(u, \phi(T(u))).
	 \]
  \end{itemize}
 \end{definition}

 計算量 $C$ にたいして, 関数 $f$ が $C$困難であるとは,
 任意の $C$ に含まれる言語が $f$ に還元可能であることである.
 さらに $f$ が $C$ に含まれるとき, つまり $C$ に対応する神託機械で $f$ を計算するものが
 存在するとき, $f$ は $C$ 完全であると定義する.
 
